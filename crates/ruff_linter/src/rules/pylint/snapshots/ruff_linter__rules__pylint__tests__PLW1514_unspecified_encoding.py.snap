---
source: crates/ruff_linter/src/rules/pylint/mod.rs
---
error[PLW1514]: unspecified_encoding.py:8:1: [*] `open` in text mode without explicit `encoding` argument

   |
 7 | # Errors.
 8 | open("test.txt")
   | ^^^^
 9 | io.TextIOWrapper(io.FileIO("test.txt"))
10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
5 5 | import codecs
6 6 | 
7 7 | # Errors.
8   |-open("test.txt")
  8 |+open("test.txt", encoding="locale")
9 9 | io.TextIOWrapper(io.FileIO("test.txt"))
10 10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
11 11 | tempfile.NamedTemporaryFile("w")

error[PLW1514]: unspecified_encoding.py:9:1: [*] `io.TextIOWrapper` without explicit `encoding` argument

   |
 7 | # Errors.
 8 | open("test.txt")
 9 | io.TextIOWrapper(io.FileIO("test.txt"))
   | ^^^^^^^^^^^^^^^^
10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
11 | tempfile.NamedTemporaryFile("w")
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
6  6  | 
7  7  | # Errors.
8  8  | open("test.txt")
9     |-io.TextIOWrapper(io.FileIO("test.txt"))
   9  |+io.TextIOWrapper(io.FileIO("test.txt"), encoding="locale")
10 10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
11 11 | tempfile.NamedTemporaryFile("w")
12 12 | tempfile.TemporaryFile("w")

error[PLW1514]: unspecified_encoding.py:10:1: [*] `io.TextIOWrapper` without explicit `encoding` argument

   |
 8 | open("test.txt")
 9 | io.TextIOWrapper(io.FileIO("test.txt"))
10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
   | ^^^^^^^^^^^^^^^^^^
11 | tempfile.NamedTemporaryFile("w")
12 | tempfile.TemporaryFile("w")
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
7  7  | # Errors.
8  8  | open("test.txt")
9  9  | io.TextIOWrapper(io.FileIO("test.txt"))
10    |-hugo.TextIOWrapper(hugo.FileIO("test.txt"))
   10 |+hugo.TextIOWrapper(hugo.FileIO("test.txt"), encoding="locale")
11 11 | tempfile.NamedTemporaryFile("w")
12 12 | tempfile.TemporaryFile("w")
13 13 | codecs.open("test.txt")

error[PLW1514]: unspecified_encoding.py:11:1: [*] `tempfile.NamedTemporaryFile` in text mode without explicit `encoding` argument

   |
 9 | io.TextIOWrapper(io.FileIO("test.txt"))
10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
11 | tempfile.NamedTemporaryFile("w")
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^
12 | tempfile.TemporaryFile("w")
13 | codecs.open("test.txt")
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
8  8  | open("test.txt")
9  9  | io.TextIOWrapper(io.FileIO("test.txt"))
10 10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
11    |-tempfile.NamedTemporaryFile("w")
   11 |+tempfile.NamedTemporaryFile("w", encoding="locale")
12 12 | tempfile.TemporaryFile("w")
13 13 | codecs.open("test.txt")
14 14 | tempfile.SpooledTemporaryFile(0, "w")

error[PLW1514]: unspecified_encoding.py:12:1: [*] `tempfile.TemporaryFile` in text mode without explicit `encoding` argument

   |
10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
11 | tempfile.NamedTemporaryFile("w")
12 | tempfile.TemporaryFile("w")
   | ^^^^^^^^^^^^^^^^^^^^^^
13 | codecs.open("test.txt")
14 | tempfile.SpooledTemporaryFile(0, "w")
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
9  9  | io.TextIOWrapper(io.FileIO("test.txt"))
10 10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
11 11 | tempfile.NamedTemporaryFile("w")
12    |-tempfile.TemporaryFile("w")
   12 |+tempfile.TemporaryFile("w", encoding="locale")
13 13 | codecs.open("test.txt")
14 14 | tempfile.SpooledTemporaryFile(0, "w")
15 15 | 

error[PLW1514]: unspecified_encoding.py:13:1: [*] `codecs.open` in text mode without explicit `encoding` argument

   |
11 | tempfile.NamedTemporaryFile("w")
12 | tempfile.TemporaryFile("w")
13 | codecs.open("test.txt")
   | ^^^^^^^^^^^
14 | tempfile.SpooledTemporaryFile(0, "w")
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
10 10 | hugo.TextIOWrapper(hugo.FileIO("test.txt"))
11 11 | tempfile.NamedTemporaryFile("w")
12 12 | tempfile.TemporaryFile("w")
13    |-codecs.open("test.txt")
   13 |+codecs.open("test.txt", encoding="locale")
14 14 | tempfile.SpooledTemporaryFile(0, "w")
15 15 | 
16 16 | # Non-errors.

error[PLW1514]: unspecified_encoding.py:14:1: [*] `tempfile.SpooledTemporaryFile` in text mode without explicit `encoding` argument

   |
12 | tempfile.TemporaryFile("w")
13 | codecs.open("test.txt")
14 | tempfile.SpooledTemporaryFile(0, "w")
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
15 | 
16 | # Non-errors.
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
11 11 | tempfile.NamedTemporaryFile("w")
12 12 | tempfile.TemporaryFile("w")
13 13 | codecs.open("test.txt")
14    |-tempfile.SpooledTemporaryFile(0, "w")
   14 |+tempfile.SpooledTemporaryFile(0, "w", encoding="locale")
15 15 | 
16 16 | # Non-errors.
17 17 | open("test.txt", encoding="utf-8")

error[PLW1514]: unspecified_encoding.py:46:1: [*] `open` in text mode without explicit `encoding` argument

   |
44 | tempfile.SpooledTemporaryFile(0, )
45 | 
46 | open("test.txt",)
   | ^^^^
47 | open()
48 | open(
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
43 43 | tempfile.SpooledTemporaryFile(0, "wb")
44 44 | tempfile.SpooledTemporaryFile(0, )
45 45 | 
46    |-open("test.txt",)
   46 |+open("test.txt", encoding="locale",)
47 47 | open()
48 48 | open(
49 49 |     "test.txt",  # comment

error[PLW1514]: unspecified_encoding.py:47:1: [*] `open` in text mode without explicit `encoding` argument

   |
46 | open("test.txt",)
47 | open()
   | ^^^^
48 | open(
49 |     "test.txt",  # comment
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
44 44 | tempfile.SpooledTemporaryFile(0, )
45 45 | 
46 46 | open("test.txt",)
47    |-open()
   47 |+open(encoding="locale")
48 48 | open(
49 49 |     "test.txt",  # comment
50 50 | )

error[PLW1514]: unspecified_encoding.py:48:1: [*] `open` in text mode without explicit `encoding` argument

   |
46 | open("test.txt",)
47 | open()
48 | open(
   | ^^^^
49 |     "test.txt",  # comment
50 | )
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
46 46 | open("test.txt",)
47 47 | open()
48 48 | open(
49    |-    "test.txt",  # comment
   49 |+    "test.txt", encoding="locale",  # comment
50 50 | )
51 51 | open(
52 52 |     "test.txt",

error[PLW1514]: unspecified_encoding.py:51:1: [*] `open` in text mode without explicit `encoding` argument

   |
49 |     "test.txt",  # comment
50 | )
51 | open(
   | ^^^^
52 |     "test.txt",
53 |     # comment
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
49 49 |     "test.txt",  # comment
50 50 | )
51 51 | open(
52    |-    "test.txt",
   52 |+    "test.txt", encoding="locale",
53 53 |     # comment
54 54 | )
55 55 | open(("test.txt"),)

error[PLW1514]: unspecified_encoding.py:55:1: [*] `open` in text mode without explicit `encoding` argument

   |
53 |     # comment
54 | )
55 | open(("test.txt"),)
   | ^^^^
56 | open(
57 |     ("test.txt"),  # comment
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
52 52 |     "test.txt",
53 53 |     # comment
54 54 | )
55    |-open(("test.txt"),)
   55 |+open(("test.txt"), encoding="locale",)
56 56 | open(
57 57 |     ("test.txt"),  # comment
58 58 | )

error[PLW1514]: unspecified_encoding.py:56:1: [*] `open` in text mode without explicit `encoding` argument

   |
54 | )
55 | open(("test.txt"),)
56 | open(
   | ^^^^
57 |     ("test.txt"),  # comment
58 | )
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
54 54 | )
55 55 | open(("test.txt"),)
56 56 | open(
57    |-    ("test.txt"),  # comment
   57 |+    ("test.txt"), encoding="locale",  # comment
58 58 | )
59 59 | open(
60 60 |     ("test.txt"),

error[PLW1514]: unspecified_encoding.py:59:1: [*] `open` in text mode without explicit `encoding` argument

   |
57 |     ("test.txt"),  # comment
58 | )
59 | open(
   | ^^^^
60 |     ("test.txt"),
61 |     # comment
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
57 57 |     ("test.txt"),  # comment
58 58 | )
59 59 | open(
60    |-    ("test.txt"),
   60 |+    ("test.txt"), encoding="locale",
61 61 |     # comment
62 62 | )
63 63 | 

error[PLW1514]: unspecified_encoding.py:64:1: [*] `open` in text mode without explicit `encoding` argument

   |
62 | )
63 | 
64 | open((("test.txt")),)
   | ^^^^
65 | open(
66 |     (("test.txt")),  # comment
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
61 61 |     # comment
62 62 | )
63 63 | 
64    |-open((("test.txt")),)
   64 |+open((("test.txt")), encoding="locale",)
65 65 | open(
66 66 |     (("test.txt")),  # comment
67 67 | )

error[PLW1514]: unspecified_encoding.py:65:1: [*] `open` in text mode without explicit `encoding` argument

   |
64 | open((("test.txt")),)
65 | open(
   | ^^^^
66 |     (("test.txt")),  # comment
67 | )
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
63 63 | 
64 64 | open((("test.txt")),)
65 65 | open(
66    |-    (("test.txt")),  # comment
   66 |+    (("test.txt")), encoding="locale",  # comment
67 67 | )
68 68 | open(
69 69 |     (("test.txt")),

error[PLW1514]: unspecified_encoding.py:68:1: [*] `open` in text mode without explicit `encoding` argument

   |
66 |     (("test.txt")),  # comment
67 | )
68 | open(
   | ^^^^
69 |     (("test.txt")),
70 |     # comment
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
66 66 |     (("test.txt")),  # comment
67 67 | )
68 68 | open(
69    |-    (("test.txt")),
   69 |+    (("test.txt")), encoding="locale",
70 70 |     # comment
71 71 | )
72 72 | 

error[PLW1514]: unspecified_encoding.py:77:1: [*] `pathlib.Path(...).open` in text mode without explicit `encoding` argument

   |
76 | # Errors.
77 | Path("foo.txt").open()
   | ^^^^^^^^^^^^^^^^^^^^
78 | Path("foo.txt").open("w")
79 | text = Path("foo.txt").read_text()
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
74 74 | from pathlib import Path
75 75 | 
76 76 | # Errors.
77    |-Path("foo.txt").open()
   77 |+Path("foo.txt").open(encoding="locale")
78 78 | Path("foo.txt").open("w")
79 79 | text = Path("foo.txt").read_text()
80 80 | Path("foo.txt").write_text(text)

error[PLW1514]: unspecified_encoding.py:78:1: [*] `pathlib.Path(...).open` in text mode without explicit `encoding` argument

   |
76 | # Errors.
77 | Path("foo.txt").open()
78 | Path("foo.txt").open("w")
   | ^^^^^^^^^^^^^^^^^^^^
79 | text = Path("foo.txt").read_text()
80 | Path("foo.txt").write_text(text)
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
75 75 | 
76 76 | # Errors.
77 77 | Path("foo.txt").open()
78    |-Path("foo.txt").open("w")
   78 |+Path("foo.txt").open("w", encoding="locale")
79 79 | text = Path("foo.txt").read_text()
80 80 | Path("foo.txt").write_text(text)
81 81 | 

error[PLW1514]: unspecified_encoding.py:79:8: [*] `pathlib.Path(...).read_text` without explicit `encoding` argument

   |
77 | Path("foo.txt").open()
78 | Path("foo.txt").open("w")
79 | text = Path("foo.txt").read_text()
   |        ^^^^^^^^^^^^^^^^^^^^^^^^^
80 | Path("foo.txt").write_text(text)
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
76 76 | # Errors.
77 77 | Path("foo.txt").open()
78 78 | Path("foo.txt").open("w")
79    |-text = Path("foo.txt").read_text()
   79 |+text = Path("foo.txt").read_text(encoding="locale")
80 80 | Path("foo.txt").write_text(text)
81 81 | 
82 82 | # Non-errors.

error[PLW1514]: unspecified_encoding.py:80:1: [*] `pathlib.Path(...).write_text` without explicit `encoding` argument

   |
78 | Path("foo.txt").open("w")
79 | text = Path("foo.txt").read_text()
80 | Path("foo.txt").write_text(text)
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^
81 | 
82 | # Non-errors.
   |
   = help: Add explicit `encoding` argument
ℹ Unsafe fix
77 77 | Path("foo.txt").open()
78 78 | Path("foo.txt").open("w")
79 79 | text = Path("foo.txt").read_text()
80    |-Path("foo.txt").write_text(text)
   80 |+Path("foo.txt").write_text(text, encoding="locale")
81 81 | 
82 82 | # Non-errors.
83 83 | Path("foo.txt").open(encoding="utf-8")
